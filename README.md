
## –î–ª—è –∑–∞–ø—É—Å–∫–∞ –Ω—É–∂–µ–Ω docker

```bash
docker --version
docker-compose --version
```


## –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è 

```bash
git clone https://github.com/mylittletraf/kcu
cd kcu
```


–ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–µ:
```bash
docker-compose up -d
```


–õ–æ–≥–∏ (+ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ø–∞–ø–∫—É ./logs):

```bash
docker-compose logs -f
```


## üß™ –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã 


### –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤: 

```bash
docker-compose down
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤: 

```bash
docker-compose restart
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–ø—É—â–µ–Ω–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

```bash
docker compose ps
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞: 

```bash
docker-compose restart –∏–º—è_—Å–µ—Ä–≤–∏—Å–∞
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –æ–¥–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞: 

```bash
docker-compose logs –∏–º—è_—Å–µ—Ä–≤–∏—Å–∞
```

### –ó–∞–ø—É—Å–∫ –∫–æ–º–∞–Ω–¥ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞: 

```bash
docker-compose exec –∏–º—è_—Å–µ—Ä–≤–∏—Å–∞ bash
```


## –£–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤, —Ç–æ–º–æ–≤ –∏ —Å–µ—Ç–µ–π, —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö docker-compose:

```bash
docker-compose down -v --remove-orphans
```


## config.json

```
{
  "MAX_SIZE" - —á–∏—Å–ª–æ, –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ä–µ–ª–∏–∑–∞ –≤ GB
  
  "GOOD_QUALITY": - —Å–ø–∏—Å–æ–∫ —Å—Ç—Ä–æ–∫, —Ç–µ–≥–∏ –∫–æ—Ç–æ—Ä—ã–µ –º—ã —Å—á–∏—Ç–∞–µ–º "—Ö–æ—Ä–æ—à–∏–º –∫–∞—á–µ—Å—Ç–≤–æ–º"
  "BAD_QUALITY": - —Å–ø–∏—Å–æ–∫ —Å—Ç—Ä–æ–∫, —Ç–µ–≥–∏ –∫–æ—Ç–æ—Ä—ã–µ –º—ã —Å—á–∏—Ç–∞–µ—Ç "–ø–ª–æ—Ö–∏–º –∫–∞—á–µ—Å—Ç–≤–æ–º" –∏ –±—É–¥–µ—Ç –ø–µ—Ä–µ–∑–∞–ª–∏–≤–∞—Ç—å 

  –°–ø–∏—Å–∫–∏ —Å—Ç—Ä–æ–∫ —Å –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –¥–ª—è —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö —Ñ–∏–ª—å–º–æ–≤ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ç—Ä–µ–∫–µ—Ä–∞—Ö  

  "RUSSIAN_CATEGORIES_RuTracker": [],
  "RUSSIAN_CATEGORIES_Kinozal": [],
  "RUSSIAN_CATEGORIES_NoNameClub": [],

  –°–ø–∏—Å–∫–∏ —Å—Ç—Ä–æ–∫ —Å –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –¥–ª—è –∑–∞—Ä—É–±–µ–∂–Ω—ã—Ö —Ñ–∏–ª—å–º–æ–≤ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ç—Ä–µ–∫–µ—Ä–∞—Ö  
  
  "CATEGORIES_RuTracker": [],
  "CATEGORIES_Kinozal": [],
  "CATEGORIES_NoNameClub": []
}
```

## .env (–æ–ø–∏—Å–∞–Ω–∏–µ –ø–æ–ª–µ–π –ø—Ä–æ–¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã –≤ .env-example)

```
# –≠—Ç–æ—Ç –±–ª–æ–∫ –Ω–µ —Ç—Ä–æ–≥–∞–µ–º!
===
PORT=8443
PROXY_ADDRESS=
PROXY_PORT=
USERNAME=
PASSWORD=
URL_TORRAPI=http://torapi:8443
====

# –î–∞–ª–µ–µ —Å—Ç–∞–≤–∏–º –Ω—É–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

#–≠—Ç–∞ —Å—Å—ã–ª–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ñ–∏–ª—å–º–æ–≤ –∏ –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–æ—Ä—Ä–µ–Ω—Ç–∞ –Ω–∞ —Å–∞–π—Ç
URL=

#–≠—Ç–∞ —Å—Å—ã–ª–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è sid –∏–∑ –∫—É–∫
URL_ADMIN=

#–¢–æ–∫–µ–Ω –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è SID
TM=

#–í–∞—Ä–∏–∞–Ω—Ç—ã: request –∏–ª–∏ browser
#–ò–∑–Ω–∞—á–∞–ª—å–Ω–æ –±—ã–ª silenium, –∑–∞—Ö–æ–¥–∏–ª –ø–æ URL_ADMIN –∏ –ø–æ–ª—É—á–∞–ª –∫—É–∫–∏
#–ü–æ—Ç–æ–º —É–∑–Ω–∞–ª –ø—Ä–æ API –∏ –ø–µ—Ä–µ–¥–µ–ª–∞–ª –Ω–∞ –±–æ–ª–µ–µ –ª–µ–≥–∫–∏–π –≤–∞—Ä–∏–∞–Ω—Ç
#–ù–µ —Å—Ç–∞–ª —É–¥–∞–ª—è—Ç—å –æ–ø—Ü–∏—é —Å –±—Ä–∞—É–∑–µ—Ä–æ–º, –º–∞–ª–æ-–ª–∏ –ø—Ä–∏–≥–æ–¥–∏—Ç—Å—è
AUTH_METHOD=

#–§–∏–ª—å–º—ã —Å—Ç–∞—Ä—à–µ —ç—Ç–æ–≥–æ –≥–æ–¥–∞ –±—É–¥—É—Ç –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è (–∫–æ—Å—Ç—ã–ª—å –¥–ª—è –º–æ–º–µ–Ω—Ç–∞, –∫–æ–≥–¥–∞ –±—É–¥–µ–º –∑–∞–ª–∏–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω–æ–≤–∏–Ω–∫–∏)
MIN_YEAR=1950

#–î–ª—è —Ç–µ–ª–µ–≥–∏
TG_CHAT_ID=
TG_USER_ID=
TG_BOT_TOKEN=

#–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —Ñ–∏–ª—å–º–æ–≤ –Ω–∞ kinotam
CAT_ID=91
OFFSET=0
LIMIT=10

#–í—Ä–µ–º—è –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ –Ω–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
ADD_TIME_SLEEP=420

#–ß–µ—Ä–µ–∑ —Å–∫–æ–ª—å–∫–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫, –æ—Ç—Å—á–µ—Ç –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–æ—Å–ª–µ–¥–Ω–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
RESTART_TIME=420

#–ò–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ø–∞–ø–∫–µ result –≤ –∫–æ—Ä–Ω–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –ø—Ä–∏ DEBUG=True –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —Å—É—Ñ—Ñ–∏–∫—Å _test
DB_NAME=films

#–ü—Ä–∏ –∑–Ω–∞—á–µ–Ω–∏–∏ True, —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ —Ñ–∞–π–ª result/result.json –≤ –∫–æ—Ä–Ω–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
#–ü—Ä–∏ –∑–Ω–∞—á–µ–Ω–∏–∏ False, –∑–∞–≥—Ä—É–∂–∞–µ—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä
DEBUG=true

#–ï—Å–ª–∏ –ø–æ –∫–∞–∫–∏–º —Ç–æ –ø—Ä–∏—á–∏–Ω–∞–º –ø–æ–ª—É—á–∏–ª–∏ –æ—Ç Kinotam –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ —Ñ–∏–ª—å–º–æ–≤,
#—Ç–æ –¥–µ–ª–∞–µ–º GET_FILMS_RETRIES –ø–æ–ø—ã—Ç–æ–∫ —Å –ø–∞—É–∑–æ–π GET_FILMS_DELAY (—Å–µ–∫—É–Ω–¥—ã)
GET_FILMS_RETRIES=3
GET_FILMS_DELAY=2

```